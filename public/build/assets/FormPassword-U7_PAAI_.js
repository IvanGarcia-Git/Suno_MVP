import{q as w,r as g,W as b,j as s,B as y}from"./app-B73aNjnd.js";import{t}from"./translations-CBxNckOR.js";import{C as v}from"./index-Bl1PYzdV.js";import{u as N}from"./useGeneratePassword-xkxXDgaI.js";import{d as P}from"./chunk-44JHHBS2-B7E72yne.js";import{b as p}from"./chunk-DBLREEYE-D6vzpY_n.js";import"./chunk-NQM3AZQR-CKZZ5xcp.js";import"./chunk-XHQUSKIE-B16IZcCX.js";import"./chunk-N2KXC5ZE-DBD4xwut.js";import"./extend-tailwind-merge-DDA0jNcl.js";import"./index-BKHz38cK.js";import"./chunk-CAFRINWI-BTDo8zfp.js";import"./useFocusable-KNJiKUgw.js";import"./focusSafely-ayMLw8ui.js";import"./useSyncRef-BnJNsFWS.js";import"./useFocus-Jb_1JH4M.js";import"./useField-B_F-zLXq.js";import"./useLabel-ChkjK81L.js";import"./useLabels-CqVFLFT_.js";import"./useFormValidationState-LLVN8A0f.js";import"./chunk-3XVMTUU7-Dp_cF4cz.js";import"./chunk-6NL67ZRH-DD6EpadO.js";const J=()=>{const{user:a}=w().props,[i,n]=g.useState(!1),{generatePassword:c}=N(16),m=()=>{const r=c();l("password",r)},{data:u,setData:l,put:f,processing:o,errors:d,clearErrors:x,isDirty:h}=b({id:a.id??null,password:"",security_information:!0}),j=r=>{r.preventDefault(),f(route("dashboard.user.update",{user:a}),{preserveScroll:!0,onSuccess:e=>{e.props.flash&&e.props.flash.success&&y.success(t(e.props.flash.success))},onError:e=>console.log(e)})};return s.jsx(s.Fragment,{children:s.jsx("form",{onSubmit:j,children:s.jsxs("section",{className:"space-y-5",children:[s.jsxs("div",{className:"font-medium flex gap-5 items-center",children:[t("Security"),s.jsx(P,{className:"flex-1"})]}),s.jsxs("div",{className:"grid gap-x-6 lg:grid-cols-2",children:[s.jsx("fieldset",{children:s.jsx(v,{isRequired:!0,label:t("Password"),variant:"faded",value:u.password,errorMessage:d.password,type:i?"text":"password",isInvalid:!!d.password,onKeyUp:()=>x("password"),description:t("The password must be at least 8 characters long"),endContent:s.jsx("button",{type:"button",tabIndex:-1,onClick:()=>n(!i),children:i?s.jsx("i",{className:"ri-eye-fill ri-lg text-primary"}):s.jsx("i",{className:"ri-eye-off-fill ri-lg text-zinc-400 dark:text-zinc-600"})}),isDisabled:o,onValueChange:r=>l("password",r)})}),s.jsx("div",{className:"pt-2 lg:pt-6",children:s.jsx(p,{size:"sm",color:"primary",variant:"ghost",className:"h-10 px-5",radius:"md",onPress:m,isDisabled:o,children:"Generate password"})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(p,{type:"submit",color:"primary",className:"w-40",isLoading:o,isDisabled:!h,children:t("Save")})})]})})})};export{J as FormPassword};
