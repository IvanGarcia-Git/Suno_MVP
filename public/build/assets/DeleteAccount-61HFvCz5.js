import{r as j,W as g,j as e}from"./app-B73aNjnd.js";import{t as s}from"./translations-CBxNckOR.js";import{u as b}from"./index-DmNp4kFG.js";import{d as _}from"./chunk-44JHHBS2-B7E72yne.js";import{b as o}from"./chunk-DBLREEYE-D6vzpY_n.js";import{m as w,a as v,b as D,c as y,d as N}from"./chunk-P2T5LMDM-DE6aEvc8.js";import{i as C}from"./chunk-GQQM5TNQ-t3Ud_9-1.js";import"./index-CMoRDRPr.js";import"./index-BKHz38cK.js";import"./chunk-N2KXC5ZE-DBD4xwut.js";import"./extend-tailwind-merge-DDA0jNcl.js";import"./chunk-XHQUSKIE-B16IZcCX.js";import"./chunk-6NL67ZRH-DD6EpadO.js";import"./useOverlayTriggerState-DhG8YGBS.js";import"./FocusScope-Q_seLLKW.js";import"./focusSafely-ayMLw8ui.js";import"./VisuallyHidden-CVybe5pM.js";import"./useDialog-DinOM5Fu.js";import"./useLabels-CqVFLFT_.js";import"./isScrollable-C-zzJ19Q.js";import"./context-C8SwmHwE.js";import"./getScrollParent-BeofMkPJ.js";import"./chunk-NQM3AZQR-CKZZ5xcp.js";import"./chunk-CAFRINWI-BTDo8zfp.js";import"./useFocusable-KNJiKUgw.js";import"./useSyncRef-BnJNsFWS.js";import"./useFocus-Jb_1JH4M.js";import"./useField-B_F-zLXq.js";import"./useLabel-ChkjK81L.js";import"./useFormValidationState-LLVN8A0f.js";import"./chunk-M3MASYO7-C4GQgy2m.js";const oe=()=>{const{isOpen:n,onOpen:l,onClose:m,onOpenChange:d}=b(),i=j.useRef(null),{data:p,setData:c,delete:u,processing:f,reset:h,errors:a}=g({password:""}),x=t=>{t.preventDefault(),u(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>m(),onError:()=>{var r;return(r=i.current)==null?void 0:r.focus()},onFinish:()=>h()})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(_,{}),e.jsx(o,{color:"danger",variant:"light",onPress:l,children:s("Delete account")})]}),e.jsx(w,{size:"sm",isOpen:n,onOpenChange:d,isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsx(v,{children:t=>e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"pb-0",children:e.jsx("span",{className:"leading-tight select-none",children:s("delete-account-confirmation-title")})}),e.jsxs("form",{onSubmit:x,children:[e.jsxs(y,{children:[e.jsx("p",{className:"text-sm leading-tight select-none",children:s("delete-account-confirmation-message")}),e.jsx("div",{className:"space-y-1 mt-3",children:e.jsx(C,{ref:i,id:"password",type:"password",name:"password",label:s("Password"),value:p.password,errorMessage:a.password,isInvalid:!!a.password,onValueChange:r=>c("password",r)})})]}),e.jsxs(N,{className:"gap-x-4",children:[e.jsx(o,{fullWidth:!0,color:"default",variant:"ghost",onPress:t,children:s("Cancel")}),e.jsx(o,{fullWidth:!0,color:"danger",type:"submit",spinner:e.jsx("i",{className:"ri-loader-line ri-lg animate-spin"}),isLoading:f,children:s("Delete")})]})]})]})})})]})};export{oe as DeleteAccount};
